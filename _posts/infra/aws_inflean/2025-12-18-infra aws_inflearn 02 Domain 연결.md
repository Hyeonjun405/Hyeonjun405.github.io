---
title: 02 Domain 연결
date: 2025-12-18 10:00:00 +09:00
categories: [infra, awsInflearn]
tags: [ infra, awsInflearn ]
---

## 1. HTTPS - DNS
### 1. DNS(Domain Name System)
  - IP는 특정 컴퓨터를 가리키는 주소의 역할
  - 문자를 IP 주소로 변환해주는 하나의 시스템(서버)을 만들게됨
  - 이게 바로 DNS(Domain Name System)

### 2. HTTPS(HyperText Transfer Protocol Secure)
 - 웹에서 데이터를 주고받을 때 누가 누구인지 확인하고 중간에 엿보거나 바꾸지 못하게 안전하게 통신을 기준으로 만든 통신방식
 - HTTP 위에 TLS(예전 이름 SSL)를 얹은 프로토콜
 - 특징
   - 암호화 (Encryption)
     - 브라우저 ↔ 서버 사이 데이터를 암호화
     - 중간에서 패킷을 가로채도 내용을 볼 수 없음
   - 서버 신원 검증 (Authentication)
     - 서버가 진짜 example.com의 서버인지 확인
     - TLS 인증서를 통해 검증
   - 무결성 보장 (Integrity)
     - 전송 중 데이터가 변조되지 않았는지 검증
     - 조금이라도 바뀌면 통신 실패
 - HTTP/HTTPS

   | 구분       | HTTP          | HTTPS            |
   | -------- | ------------- | ---------------- |
   | 통신 방식    | 평문 통신         | 암호화 통신 (TLS)     |
   | 데이터 노출   | 중간에서 내용 확인 가능 | 중간에서 내용 확인 불가    |
   | 서버 신원 검증 | 없음            | 인증서를 통한 서버 신원 검증 |
   | 데이터 변조   | 변조 가능         | 변조 시 통신 실패       |
   | 보안 수준    | 낮음            | 높음               |
   | 사용 포트    | 80            | 443              |


### 3. HTTPS가 domain이 필수인 이유
#### 1. IP는 “서버의 신원”이 될 수 없음
 - IP는 위치 정보에 가깝고 소유가 자주 바뀌며 하나의 주체를 안정적으로 대표하지 못함.
 - 같은 도메인을 쓰면 서버 이전, 오토스케일링, 장애 조치 등의 상황에서 IP를 변경해도 접근을 유지할 수 있음.
 
#### 2. 도메인은 “소유권”을 증명할 수 있음
 - 도메인은 등록 기관을 통해 소유자가 명확하고 DNS 설정을 제어할 수 있는 주체가 존재한다.
 - CA가 인증서를 발급할 때도 “이 도메인을 네가 통제하고 있냐”를 검증함.

#### 3. 하나의 IP에 여러 서비스가 공존
 - 현실의 서버는 하나의 IP에 여러 도메인, 여러 서비스가 맞물려있음
 - https에서 IP만 보고 인증서를 고르게 하면 어느 서비스인지 구분이 안 됨.

#### 4. IP는 보안적으로도 취약한 신원 기준
 - IP 스푸핑 가능(출발지 IP를 임의로 바꿔서 전송)
 - NAT, 프록시, CDN 뒤에서 실제 서버 IP는 숨겨짐
 - 클라우드 환경에서 IP는 임시 리소스

#### 5. 인터넷 확장성을 고려한 설계 선택(인터넷 설계 원칙)
 - IP는 네트워크 라우팅을 위한 식별자
 - 도메인은 사람과 서비스 식별자


## 2. DNS서버 종류
### 1. 글로벌 퍼블릭 DNS / 매니지드 DNS
 - 서비스 운영용 DNS
 - 멀티 클라우드, 글로벌 서비스
 - 안정성과 확장성이 중요한 경우
 - 종류
    
    | 서비스명             | 제공사        | 주요 강점                     | 비고          |
    | ---------------- | ---------- | ------------------------- | ----------- |
    | Route 53         | AWS        | AWS 리소스 연동, 헬스체크, 다양한 라우팅 | AWS 종속      |
    | Cloudflare DNS   | Cloudflare | 빠른 전파, 무료 플랜, Anycast     | CDN/WAF와 결합 |
    | Google Cloud DNS | Google     | 높은 안정성, GCP 연계            | GCP 중심      |
    | Azure DNS        | Microsoft  | Azure 리소스 통합              | Azure 중심    |
    | NS1              | IBM        | 고급 트래픽 제어                 | 엔터프라이즈      |

### 2. 도메인 등록 + DNS 같이 제공
 - 개인 사이트
 - 트래픽이 크지 않은 서비스
 - 관리 복잡도 최소화
 - 종류
    
    | 서비스명                    | 제공사         | 주요 특징       | 한계        |
    | ----------------------- | ----------- | ----------- | --------- |
    | GoDaddy DNS             | GoDaddy     | 대중적, 관리 쉬움  | 기능 단순     |
    | Namecheap DNS           | Namecheap   | 가성비, 무료 DNS | 고급 기능 부족  |
    | Squarespace Domains DNS | Squarespace | UI 간결       | 커스터마이징 제한 |
    | Gabia DNS               | 가비아         | 국내 접근성      | 글로벌 성능 제한 |


### 3. 보안 / 네트워크 중심 DNS
 - 보안이 핵심인 서비스
 - 대규모 트래픽 처리
 - 공격 대응이 중요한 경우
 - 종류
    
    | 서비스명             | 제공사        | 보안 강점           | 주 사용처      |
    | ---------------- | ---------- | --------------- | ---------- |
    | Cloudflare DNS   | Cloudflare | DDoS 방어, WAF 연계 | 웹 서비스 전반   |
    | Akamai DNS       | Akamai     | 초대형 트래픽 방어      | 글로벌 기업     |
    | Neustar UltraDNS | Neustar    | 금융권 수준 안정성      | 엔터프라이즈     |
    | AWS Route 53     | AWS        | Shield 연계       | AWS 기반 서비스 |

## 3. AWS의 Route53
 - 2025.12.18 유료로 변경되어 진행못함 ㅠㅠ
 - AWS에서 직접할 경우에는 내부에서 도메인 설정후에 사용 가능하고,
 - 그게 아니라 AWS 외에 도메인 연결하는 곳을 하는 경우 그곳에서 AWS 서버로 IP(퍼블릭IP)로 직접 연결을 하면 사용
