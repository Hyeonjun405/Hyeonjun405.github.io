---
title: 01 EC2 인스턴스 생성
date: 2025-12-17 10:00:00 +09:00
categories: [infra, awsInflearn]
tags: [ infra, awsInflearn ]
---

## 1. EC2
### 1. EC2(Elastic Compute Cloud)
 - 컴퓨터를 빌려서 원격으로 접속해 사용하는 서비스
 - 내 컴퓨터에서 서버를 배포하면 다른 사용자들이 24시간 동안 접근이 가능한 상태.
 - 그러다보니 보안적으로도 위험할 수도 있음.
 - 따라서 EC2를 활용하여 사용함.

### 2. EC2 종류
#### 1. 글로벌 메이저 클라우드
 - 전 세계 리전 보유
 - 서비스 범위가 매우 넓음 (IaaS + PaaS + SaaS)
 - 대규모 트래픽, 미션 크리티컬 서비스에 적합
 - 글로벌 표준으로 취급됨
 - 종류

   | 서비스명               | 강점                   | 주 사용 사례     |
   | ------------------ | -------------------- | ----------- |
   | AWS                | 서비스 수 최다, 생태계 압도적    | 대부분의 상용 서비스 |
   | Microsoft Azure    | MS 제품군 연계, 엔터프라이즈 친화 | 기업·공공·SI    |
   | Google Cloud (GCP) | 쿠버네티스, 데이터·AI        | 글로벌 트래픽, 분석 |

#### 2. 글로벌 준대형 클라우드
 - 특정 영역(DB, 엔터프라이즈, 지역)에 강점
 - AWS 대안 또는 보조 클라우드로 사용
 - 가격 경쟁력 또는 지역 특화
 - 종류

   | 서비스명               | 강점                | 주 사용 사례   |
   | ------------------ | ----------------- | --------- |
   | Oracle Cloud (OCI) | Oracle DB 최적화, 가격 | 금융·엔터프라이즈 |
   | IBM Cloud          | 하이브리드, 레거시        | 대기업·금융    |
   | Alibaba Cloud      | 중국 시장 표준          | 중국 대상 서비스 |
   | Tencent Cloud      | 게임·미디어            | 아시아 서비스   |

#### 3. 국내 클라우드
 - 한국 리전 필수 환경에 적합
 - 공공·금융 규제 대응 쉬움
 - 국내 트래픽 최적화
 - 종류

  | 서비스명        | 강점            | 주 사용 사례 |
  | ----------- | ------------- | ------- |
  | Naver Cloud | 국내 규제 대응, 안정성 | 국내 웹·공공 |
  | NHN Cloud   | 게임·웹서비스 기반    | 국내 서비스  |
  | KT Cloud    | 통신·공공 사업      | 정부·공공   |
  | Kakao Cloud | 플랫폼·AI 연계     | 신규 서비스  |

## 2. 리전
### 1. 리전(Region)
 - 인프라를 지리적으로 나누어 배포한 각각의 데이터 센터
 - 컴퓨터들이 위치한 위치를 AWS에서는 리전(Region)이라고 부름
 - 사용자의 위치와 애플리케이션을 실행시키고 있는 컴퓨터와 위치가 멀면 멀수록 속도가 느려짐

### 2. AWS 에서 리전선택
  ![내 그림](assets/img/infra/aws_inflean/1리전 선택.png "이미지")

## 3. 인스턴스 생성
### 1. 인스턴스
 - EC2로 사용할 컴퓨터 1대에 대한 단위
 - 컴퓨터가 1대면, 인스턴스 1개
 
### 2. 기본설정
  - 이름 및 태그 : 서버 이름, 향후 여러컴퓨터에 대해서 설정
  - 애플리케이션 및 OS 이미지(Amazon Machine Image) 
    - 윈도우나 맥은 사용자들이 이용하기 쉽게 설정된 툴이 너무 많아서 무거움
    - 일반적으로 ubuntu 사용
  - 인스턴스 유형 : 컴퓨터 사양
  - 키 페어(로그인)
    - EC2 컴퓨터에 접근하기 위한 암호 키값 
    - 여러종류의 EC2를 사용하다보면 복잡할 수 있어서 서비스별로 구분할수 있는 Key값을 주는게 좋음
    - 생성하면 파일이 생성됨

### 3. 네트워크설정
#### 1. 편집으로 진입
  ![내 그림](assets/img/infra/aws_inflean/1편집버튼.png "이미지")
  

#### 2. 선택 옵션
 - VPC : AWS 안에서 네트워크를 논리적으로 분리해 만든 나만의 가상 사설 네트워크.
 - 서브넷 마스크 : VPC 안에서 IP 주소 범위를 나눠서 인스턴스를 배치하기 위한 주소 구분 규칙.
 - 퍼블릭 IP 자동 할당 : EC2가 생성될 때 인터넷에서 직접 접근 가능한 공인 IP를 자동으로 붙일지 결정하는 옵션.

#### 3. Security Groups(보안 그룹)
 - EC2 인스턴스 주위에 방화벽 역할을 할 보안 그룹(Security Group) 을 만들고 보안 그룹에 규칙
 - 보안 규칙은 인바운드 트래픽(외부에서 EC2 인스턴스로 보내는 트래픽)과 
 - 아웃바운드 트래픽(즉, EC2 인스턴스에서 외부로 나가는 트래픽)에서
 - 어떤 트래픽만허용할 지 설정하는것
 - 보안 그룹을 설정할 때는 허용할 IP 범위와 포트(port)를 설정함.
 - SSH로 기본 접근 - SSH로 접근하는거 기본으로 허용 설정
   ![내 그림](assets/img/infra/aws_inflean/1보안그룹.png "이미지")
   
### 4. 스토리지구성
#### 1. 스토리지
 - 컴퓨터의 SSD HDD 등의 저장공간
 - EC2의 저장공간은 EBS(Elastic Block Storage)라 부름
 - 더 포괄적으로 스토리지(Storage), 볼륨(Volume)라고도 함.

#### 2. 볼륨설정(단순 -> 고급)
  ![내 그림](assets/img/infra/aws_inflean/1볼륨설정.png "이미지")
 
## 4. 인스턴스확인
### 1. 인스턴스상태(좌측 대시보드 또는 인스턴스로 접근)
  ![내 그림](assets/img/infra/aws_inflean/1인스턴스확인.png "이미지")
  

### 2. 인스턴스 정보
  ![내 그림](assets/img/infra/aws_inflean/1인스턴스상태.png "이미지")
  
  - 프라이빗 IP : 같은 VPC(내부 네트워크) 안에서만 통신할 수 있는 내부용 IP.
  - 퍼블릭 IP : 인터넷을 통해 외부에서 직접 접근할 수 있는 공인 IP.
  - 인스턴스 상태 : 인스턴스 상태 / 인스턴스 종료시 삭제되니 주의
  - 연결 : 인스턴스에 직접 연결됨.
 
#### 3. 인스턴스 연결
  ![내 그림](assets/img/infra/aws_inflean/1연결.png "이미지")
  - EC2 인스턴스 연결: AWS 콘솔에서 버튼 눌러서 바로 접속하는 웹 기반 SSH 방식.
  - Session Manager : SSH 포트 없이 IAM 권한으로 접속하는 관리형 터미널 방식.
  - SSH 클라이언트 : 로컬 PC에서 ssh 명령어로 직접 접속하는 일반적인 방식.
  - EC2 직렬 콘솔 : 네트워크가 죽어도 인스턴스 내부 콘솔에 직접 붙는 복구용 접속 방식.

## 5. 탄력적 IP
### 1. 탄력적 IP
 - EC2 인스턴스를 생성하면 받는 IP는 임시적인 IP
 - 중지시켰다가 다시 실행 시킬경우 변경이 되는데,
 - 고정적으로 IP를 쓰는 방법은 탄력적IP를 받아서 인스턴스에 연결해야함. 

### 2. 탄력적IP(IP할당후 해당 IP로 접근)
  ![내 그림](assets/img/infra/aws_inflean/1탄력적ip.png "이미지")
  ![내 그림](assets/img/infra/aws_inflean/1탄력적ip2.png "이미지")
  ![내 그림](assets/img/infra/aws_inflean/1탄력적ip3.png "이미지")
